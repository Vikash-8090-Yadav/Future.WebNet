#!/usr/bin/env node
!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@trufflesuite/bigint-buffer"),require("keccak"),require("secp256k1"),require("leveldown"),function webpackLoadOptionalExternalModule(){try{return require("bufferutil")}catch(e){}}(),function webpackLoadOptionalExternalModule(){try{return require("utf-8-validate")}catch(e){}}()):"function"==typeof define&&define.amd?define(["@trufflesuite/bigint-buffer","keccak","secp256k1","leveldown","bufferutil","utf-8-validate"],t):"object"==typeof exports?exports.Ganache=t(require("@trufflesuite/bigint-buffer"),require("keccak"),require("secp256k1"),require("leveldown"),function webpackLoadOptionalExternalModule(){try{return require("bufferutil")}catch(e){}}(),function webpackLoadOptionalExternalModule(){try{return require("utf-8-validate")}catch(e){}}()):e.Ganache=t(e["@trufflesuite/bigint-buffer"],e.keccak,e.secp256k1,e.leveldown,e.bufferutil,e["utf-8-validate"])}(global,(function(e,t,r,o,s,n){return(()=>{var i,a,c={923:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=923,e.exports=webpackEmptyContext},921:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=921,e.exports=webpackEmptyContext},714:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=714,e.exports=webpackEmptyContext},922:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=922,e.exports=webpackEmptyContext},397:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(111),n=o(r(658)),i=r(56),a=o(r(102)),c=r(40),u=o(r(669)),l=o(r(673)),p=r(112);u.default.setOptions({renderer:new l.default({codespan:a.default.hex(s.TruffleColors.porsche),unescape:!1})});const _=Math.min(120,n.default.terminalWidth());const center=e=>" ".repeat(Math.max(0,Math.floor((_-e.length)/2)))+e;function processOption(e,t,r,o,s,n,i){if(!0!==s.disableInCLI){const p=[],_=[];let f=(l=s.cliDescription||"",function unescapeEntities(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\*\#COLON\|\*/g,":")}(u.default.parseInline(l)));s.cliAliases&&(s.cliAliases.forEach((e=>{1===e.length?p.push(e):_.push(e)})),f=a.default`${f}${c.EOL}{dim deprecated aliases: ${_.map((e=>`--${e}`)).join(", ")}}`);const generateDefaultDescription=()=>e[o]=s.default?s.default(e,i).toString():void 0,d="defaultDescription"in s?s.defaultDescription:generateDefaultDescription(),{cliType:h}=s,b=h&&h.startsWith("array:"),k=b?h.slice(6):h,w={group:r,description:f,alias:p,defaultDescription:d,array:b,type:k,choices:s.cliChoices,coerce:s.cliCoerce,implies:s.implies},v=`${t}.${o}`;n=(n=((e,t,r)=>{const o={hidden:!0,alias:r};return t.reduce(((e,t)=>e.option(t,o)),e)})(n,_,v)).option(v,w)}var l}function applyDefaults(e,t,r){for(const o in e){const s=`${o[0].toUpperCase()}${o.slice(1)}:`,n=e[o],i={};for(const e in n){processOption(i,o,s,e,n[e],t,r)}}}t.default=function default_1(e,t){const r=a.default`{hex("${s.TruffleColors.porsche}").bold ${center(e)}}`;let o,u=n.default.parserConfiguration({"dot-notation":!1}).strict().usage(r).epilogue(r+c.EOL+c.EOL+a.default`{hex("${s.TruffleColors.porsche}").bold ${center("Need more help? Reach out to the Truffle community at")}}`+c.EOL+a.default`{hex("${s.TruffleColors.turquoise}") ${center("https://trfl.io/support")}}`);for(o in i.DefaultOptionsByName){const e=i.DefaultOptionsByName[o];let r,s;switch(o){case i.FilecoinFlavorName:r=o,s=7777;break;case i.DefaultFlavor:r=["$0",o],s=8545;break;default:r=o,s=8545}u=u.command(r,a.default`Use the {bold ${o}} flavor of Ganache`,(r=>{applyDefaults(e,r,o),applyDefaults(p._DefaultServerOptions,r,o),r=r.option("server.host",{group:"Server:",description:a.default`Hostname to listen on.${c.EOL}{dim deprecated aliases: --host, --hostname}${c.EOL}`,alias:["h","host","hostname"],type:"string",default:t?"0.0.0.0":"127.0.0.1"}).option("server.port",{group:"Server:",description:a.default`Port to listen on.${c.EOL}{dim deprecated aliases: --port}${c.EOL}`,alias:["p","port"],type:"number",default:s}).check((e=>{const{"server.port":t,"server.host":r}=e;if(t<1||t>65535)throw new Error(`Invalid port number '${t}'`);if(""===r.trim())throw new Error("Cannot leave host blank; please provide a host");return!0}))}))}u=u.showHelpOnFail(!1,"Specify -? or --help for available options").alias("help","?").wrap(_).version(e);const l=u.argv,f={flavor:l._.length>0?l._[0]:i.DefaultFlavor};for(let e in l){const[t,r]=e.split(/\.(.+)/);r&&(f[t]||(f[t]={}),f[t][r]=l[e])}return f}},400:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(102)),n=r(111),i=r(1),a=r(0);function color(e){return s.default`{hex("${n.TruffleColors.porsche}") ${e}}`}t.default=function default_1(e,t){const r=e.getOptions(),o=e.getInitialAccounts(),c=Object.keys(o),u=[];if(u.push(""),u.push("Available Accounts"),u.push("=================="),c.length>0?(c.forEach((function(e,t){const r=o[e].balance,s=r/i.WEI,n=r%i.WEI===0n?"":"~";let c=`(${t}) ${(0,a.toChecksumAddress)(e)} (${n}${s} ETH)`;o[e].unlocked||(c+=" ðŸ”’"),u.push(c)})),u.push(""),u.push("Private Keys"),u.push("=================="),c.forEach((function(e,t){u.push(`(${t}) ${o[e].secretKey}`)})),null!=r.wallet.accountKeysPath&&(u.push(""),u.push(`Accounts and keys saved to ${r.wallet.accountKeysPath}`))):u.push("(no accounts unlocked)"),null==r.wallet.accounts&&(u.push(""),u.push("HD Wallet"),u.push("=================="),u.push(`Mnemonic:      ${color(r.wallet.mnemonic)}`),u.push(`Base HD Path:  ${color(r.wallet.hdPath.join("/")+"/{account_index}")}`)),r.miner.defaultGasPrice&&(u.push(""),u.push("Default Gas Price"),u.push("=================="),u.push(color(r.miner.defaultGasPrice.toBigInt().toString()))),r.miner.blockGasLimit&&(u.push(""),u.push("BlockGas Limit"),u.push("=================="),u.push(color(r.miner.blockGasLimit.toBigInt().toString()))),r.miner.callGasLimit&&(u.push(""),u.push("Call Gas Limit"),u.push("=================="),u.push(color(r.miner.callGasLimit.toBigInt().toString()))),r.fork.network||r.fork.url){let e;u.push(""),u.push("Forked Chain"),u.push("=================="),e=r.fork.network?`Ethereum ${function capitalizeFirstLetter(e){return e[0].toUpperCase()+e.slice(1)}(r.fork.network.replace("goerli","gÃ¶rli"))}, via ${s.default`{hex("${n.TruffleColors.infura}") ä¸•Infura}`}`:r.fork.url.toString(),u.push(`Location:        ${color(e)}`),u.push(`Block:           ${color(r.fork.blockNumber.toString())}`),u.push(`Network ID:      ${color(r.chain.networkId.toString())}`),u.push(`Time:            ${color((new Date).toString())}`),0!==r.fork.requestsPerSecond&&u.push(`Requests/Second: ${color(r.fork.requestsPerSecond.toString())}`)}u.push(""),u.push("Chain Id"),u.push("=================="),u.push(color(r.chain.chainId.toString())),u.push(""),u.push("RPC Listening on "+t.host+":"+t.port),console.log(u.join("\n"))}},927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function default_1(e,t){const r=e.getOptions(),o=await e.getInitialAccounts();console.log(""),console.log("Available Accounts"),console.log("==================");const s=Object.keys(o),n=1000000000000000000n;s.forEach((function(e,t){const r=o[e].balance;let s=`(${t}) ${e} (${r%n===0n?"":"~"}${r/n} FIL)`;o[e].unlocked||(s+=" ðŸ”’"),console.log(s)})),console.log(""),console.log("Private Keys"),console.log("=================="),s.forEach((function(e,t){console.log(`(${t}) ${o[e].secretKey}`)})),console.log(""),console.log(`Lotus RPC listening on ${t.host}:${t.port}`),console.log(`IPFS  RPC listening on ${r.chain.ipfsHost}:${r.chain.ipfsPort}`)}},305:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(112)),c=i(r(397)),u=r(56),l=i(r(400)),p=i(r(927)),logAndForceExit=(e,t=0)=>{process.stdout._handle&&process.stdout._handle.setBlocking(!0);try{e.forEach((e=>console.log(e)))}catch(e){console.log(e)}process.exit(t)},_="ganache v7.2.0 (@ganache/cli: 0.3.0, @ganache/core: 0.3.0)",f="DOCKER"in process.env&&"true"===process.env.DOCKER.toLowerCase(),d=(0,c.default)(_,f),h=d.flavor,b=d.server;let k;console.log(_);try{k=a.default.server(d)}catch(e){console.error(e.message),process.exit(1)}let w=!1;process.on("uncaughtException",(function(e){logAndForceExit(w?[e]:[e.stack],1)}));let v=!1;const handleSignal=async e=>{console.log(`\nReceived shutdown signal: ${e}`),closeHandler()},closeHandler=async()=>{try{switch(k.status){case a.ServerStatus.opening:return v=!0,void console.log("Server is currently starting; waitingâ€¦");case a.ServerStatus.open:console.log("Shutting downâ€¦"),await k.close(),console.log("Server has been shut down")}process.exitCode=0}catch(e){logAndForceExit(["\nReceived an error while attempting to shut down the server: ",e.stack||e],1)}};if("win32"===process.platform){const e=r(928).createInterface({input:process.stdin,output:process.stdout}).on("SIGINT",(()=>{e.close(),handleSignal("SIGINT")}))}process.on("SIGINT",handleSignal),process.on("SIGTERM",handleSignal),process.on("SIGHUP",handleSignal),console.log("Starting RPC server"),k.listen(b.port,b.host,(async function startGanache(e){if(e)return console.log(e),void(process.exitCode=1);if(v)closeHandler();else switch(w=!0,h){case u.FilecoinFlavorName:await(0,p.default)(k.provider,b);break;case u.EthereumFlavorName:default:(0,l.default)(k.provider,b)}}))},920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(305)},2:e=>{"use strict";e.exports=require("assert")},22:e=>{"use strict";e.exports=require("buffer")},13:e=>{"use strict";e.exports=require("crypto")},31:e=>{"use strict";e.exports=require("events")},12:e=>{"use strict";e.exports=require("fs")},99:e=>{"use strict";e.exports=require("http")},167:e=>{"use strict";e.exports=require("https")},168:e=>{"use strict";e.exports=require("net")},40:e=>{"use strict";e.exports=require("os")},11:e=>{"use strict";e.exports=require("path")},631:e=>{"use strict";e.exports=require("querystring")},928:e=>{"use strict";e.exports=require("readline")},65:e=>{"use strict";e.exports=require("stream")},169:e=>{"use strict";e.exports=require("tls")},579:e=>{"use strict";e.exports=require("tty")},88:e=>{"use strict";e.exports=require("url")},10:e=>{"use strict";e.exports=require("util")},567:e=>{"use strict";e.exports=require("zlib")},200:t=>{"use strict";t.exports=e},568:e=>{"use strict";if(void 0===s){var t=new Error("Cannot find module 'bufferutil'");throw t.code="MODULE_NOT_FOUND",t}e.exports=s},118:e=>{"use strict";e.exports=t},232:e=>{"use strict";e.exports=o},350:e=>{"use strict";e.exports=r},570:e=>{"use strict";if(void 0===n){var t=new Error("Cannot find module 'utf-8-validate'");throw t.code="MODULE_NOT_FOUND",t}e.exports=n}},u={};function __webpack_require__(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={id:e,loaded:!1,exports:{}};return c[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}return __webpack_require__.m=c,__webpack_require__.c=u,__webpack_require__.x=()=>{var e=__webpack_require__.O(void 0,[0,4,1],(()=>__webpack_require__(__webpack_require__.s=920)));return e=__webpack_require__.O(e)},__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},i=[],__webpack_require__.O=(e,t,r,o)=>{if(!t){var s=1/0;for(u=0;u<i.length;u++){for(var[t,r,o]=i[u],n=!0,a=0;a<t.length;a++)(!1&o||s>=o)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[a])))?t.splice(a--,1):(n=!1,o<s&&(s=o));if(n){i.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=i.length;u>0&&i[u-1][2]>o;u--)i[u]=i[u-1];i[u]=[t,r,o]},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="",(()=>{var e={2:1};__webpack_require__.O.require=t=>e[t];__webpack_require__.f.require=(t,r)=>{e[t]||(t=>{var r=t.modules,o=t.ids,s=t.runtime;for(var n in r)__webpack_require__.o(r,n)&&(__webpack_require__.m[n]=r[n]);s&&s(__webpack_require__);for(var i=0;i<o.length;i++)e[o[i]]=1;__webpack_require__.O()})(require("./"+__webpack_require__.u(t)))}})(),a=__webpack_require__.x,__webpack_require__.x=()=>(__webpack_require__.e(0),__webpack_require__.e(4),__webpack_require__.e(1),a()),__webpack_require__.x()})()}));
//# sourceMappingURL=cli.js.map